<?= $this->extend('layouts/user_layouts') ?>
<?= $this->section('content') ?>
<div class="main-content mt-4">
    <div>
        <div class="pb-3 pb-md-5">
            <h3 class="font-recoleta fw-bold">Stocks Monitoring</h3>
            <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="<?= base_url('/user/dashboard/') ?>">Dashboard</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Stocks Monitoring</li>
                </ol>
            </nav>
        </div>
    </div>
    <div>
        <div class="cards" style="text-align: center;">
            <hr>
            <h4>Schedules of Release <br> and <br> Stocks Available</h4>
            <hr>
            <br>
        </div>
        <div class="list d-flex flex-wrap justify-content-center gap-5">

        </div>
    </div>

</div>

<script>
    $(() => {
        const url = document.querySelector("meta[name = base_url]").getAttribute("content");

        setInterval(() => {
            displayStocksRelease()
        }, 1000)

        function displayStocksRelease() {
            $.ajax({
                type: "get",
                url: `${url}/user/dashboard/get-all-release-dates`,
                success: function(res) {
                    let response = JSON.parse(res)
                    $('.list').html('')
                    for (let index = 0; index < response.data.length; index++) {
                        const element = response.data[index];
                        let [year, month, day] = element.release_date.split('-')
                        let monthName = convertMonthToName(parseInt(month - 1))
                        let dayOfTheWeek = convertDayToName(getCurrentDayOfTheWeek(month - 1, day, year))
                        $('.list').append(stocksCardTemplates(element.available, element.category, dayOfTheWeek, monthName, day, year))
                    }
                }
            });
        }

        function stocksCardTemplates(available, category, dayOfTheWeek, monthName, day, year) {
            let template = "";
            if (category.toLowerCase() === "seedlings") {
                template = `<div class="stock-card-container p-4 rounded-4" style="max-width: 30rem; min-width: 22rem;background:#84A98C">
                    <div class="top-stock-card d-flex justify-content-between">
                        <svg width="64px" height="64px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--emojione-monotone" preserveAspectRatio="xMidYMid meet">
                            <path d="M21.606 17.794s1.719-1.396 1.282-3.142c-.437-1.744-2.918-3.395-2.918-3.395s-1.44 2.512-1.003 4.257c.436 1.745 2.639 2.28 2.639 2.28" fill="#fff"></path>
                            <path d="M48.668 3.548c-2.501 1.641-2.044 5.021-2.044 5.021l.091.04c-2.308 1.161-4.425 2.665-6.333 4.373c-.383.345-.749.706-1.115 1.067c.442-.623.784-1.416.693-2.341c-.228-2.315-3.098-4.853-3.098-4.853s-2.331 2.986-2.104 5.3c.226 2.315 2.953 3.374 2.953 3.374s.172-.105.419-.301a37.758 37.758 0 0 0-2.414 2.902c.085-.413.103-.857.006-1.325c-.494-2.388-3.767-4.746-3.767-4.746s-2.09 3.336-1.596 5.721c.454 2.188 2.965 3.068 3.383 3.201a50.6 50.6 0 0 0-2.101 3.672a3.572 3.572 0 0 0-.243-1.586c-.753-1.879-3.205-3.469-4.369-4.139c1.326-.822 2.37-2.189 2.37-2.189s-2.681-1.35-4.542-.941c-1.86.41-2.432 2.475-2.432 2.475s1.49 1.61 3.351 1.201c.122-.026.24-.08.358-.121c-.073.227-.152.495-.232.795c-.945-.262-2.716-.635-3.974-.195c-.832.292-1.331.903-1.637 1.477c1.014-2.126 2.296-4.142 3.9-5.962c.472.076 2.807.359 4.156-1.158c1.509-1.693 1.403-5.206 1.403-5.206s-3.703.533-5.211 2.227c-1.508 1.694-.439 4.123-.439 4.123l.077.013c-1.467 1.3-2.718 2.821-3.771 4.453c-.216.339-.418.685-.615 1.032c.202-.553.299-1.216.026-1.901c-.667-1.679-3.351-3.022-3.351-3.022s-1.09 2.663-.421 4.342c.668 1.679 2.923 1.95 2.923 1.95s.109-.117.253-.313c-.444.866-.84 1.753-1.188 2.656a2.484 2.484 0 0 0-.27-1.019c-.881-1.682-3.822-2.816-3.822-2.816s-.838 2.877.044 4.56c.824 1.574 2.936 1.725 3.207 1.737a37.602 37.602 0 0 0-.777 3.155a2.8 2.8 0 0 0-.518-1.158c-1.281-1.665-4.682-2.387-4.682-2.387s-.34 3.253.939 4.918c1.197 1.555 3.522 1.358 3.827 1.325a51.136 51.136 0 0 0-.363 3.657c-.009.181-.006.36-.014.54a3.129 3.129 0 0 0-.85-1.633c-1.576-1.594-5.248-1.938-5.248-1.938s.091 3.459 1.667 5.053c1.577 1.593 4.24.918 4.24.918s.073-.2.143-.517c-.01 1.128.003 2.255.056 3.379c.107 1.932.273 3.857.55 5.771a68.862 68.862 0 0 0 1.036 5.698c.087.371.177.74.268 1.108a41.621 41.621 0 0 1-2.465-3.193c-1.692-2.461-3.092-5.08-4.08-7.832a29.075 29.075 0 0 1-1.697-8.542c-.132-2.92.186-5.864.777-8.804a23.88 23.88 0 0 0-1.989 8.81c-.112 3.039.391 6.11 1.431 9.003c1.041 2.896 2.605 5.611 4.563 8.021a30.345 30.345 0 0 0 3.199 3.393c.203.181.411.356.618.533c.279 1.039.583 2.069.94 3.087a98.3 98.3 0 0 1-.512-2.727c.853.702 1.741 1.36 2.703 1.921a36.406 36.406 0 0 1-1.901-1.887a27.08 27.08 0 0 1 1.133-3.468a27.716 27.716 0 0 1 1.545-3.273a23.366 23.366 0 0 1 3.343-4.579c-.086.523-.19 1.043-.263 1.567a86.473 86.473 0 0 0-.675 6.31c-.538 1.583-.996 3.196-1.182 4.843c.302-.958.656-1.894 1.046-2.815c-.1 2.205-.146 4.414-.021 6.617c.205-2.485.481-4.96.829-7.423c.064-.476.144-.949.214-1.424a49.648 49.648 0 0 1 2.564-4.604a53.496 53.496 0 0 1 6.646-8.458c.184-.191.38-.372.564-.561c1.573-.505 3.2-.903 4.868-1.224a22.12 22.12 0 0 0-3.802.168a62.336 62.336 0 0 1 6.625-5.51c2.979-2.147 6.164-4.055 9.465-5.839a48.737 48.737 0 0 0-10.175 4.917a46.522 46.522 0 0 0-8.606 6.973c-.435.115-.87.225-1.298.368a18.984 18.984 0 0 0-4.635 2.288c.14-.57.264-1.143.416-1.71c.298-1.153.618-2.302.959-3.444c.639.364 3.148 1.637 5.451.506c2.663-1.311 4.373-5.501 4.373-5.501s-4.649-1.069-7.313.238a4.22 4.22 0 0 0-1.272.959a66.432 66.432 0 0 1 1.631-4.22c.235.189 2.636 2.042 5.161 1.151c2.659-.938 4.777-4.684 4.777-4.684s-4.225-1.507-6.884-.569a4.13 4.13 0 0 0-1.786 1.242a52.096 52.096 0 0 1 2.25-4.232c-.073.173-.106.278-.106.278s1.931 2.257 4.477 1.794c2.544-.463 5.061-3.531 5.061-3.531s-3.559-1.96-6.103-1.497c-1.086.198-1.867.815-2.41 1.458c.108-.172.211-.345.321-.515a42.412 42.412 0 0 1 2.894-3.896c-.31.439-.46.779-.46.779s1.606 2.32 4.076 2.107c2.468-.212 5.175-2.905 5.175-2.905s-3.185-2.186-5.655-1.972c-1.058.092-1.868.615-2.45 1.183c2.006-2.28 4.299-4.347 6.91-6.077c.562.244 3.382 1.345 5.625-.126C54.858 6.85 56 2.422 56 2.422s-4.828-.515-7.332 1.126M22.032 33.499c.125.225.273.422.431.608c-1.06.08-3.574.387-4.894 1.535c-.333.289-.57.618-.74.958c.058-1.155.168-2.305.305-3.452c.112.051 2.356 1.05 4.088-.122c.161-.108.311-.238.454-.375c.096.297.209.584.356.848m-.605-4.84c-1.001.096-2.118.328-2.904.859a3.034 3.034 0 0 0-1.05 1.241c.189-1.158.446-2.303.74-3.438c-.007.068-.009.112-.009.112s1.638 1.097 3.301.619a15.56 15.56 0 0 0-.078.607m10.108 12.159c-1.929 2.228-3.63 4.629-5.016 7.182a35.04 35.04 0 0 0-.997 1.997c.158-.926.317-1.851.493-2.772c.219-1.098.448-2.194.687-3.286a21.742 21.742 0 0 1 4.833-3.121m-6.461 2.527a18.476 18.476 0 0 0-4.442 6.229a19.272 19.272 0 0 0-1.178 3.558c-.258 1.209-.44 2.438-.398 3.664c-.331-.35-.651-.704-.967-1.063c-.104-.64-.213-1.279-.305-1.921a107.794 107.794 0 0 1-.685-5.698c-.164-1.905-.305-3.809-.346-5.714a75.987 75.987 0 0 1-.028-2.742c.552.15 2.693.62 4.164-.658c1.317-1.146 1.833-3.465 1.999-4.452c1.637 1.445 4.117 1.454 4.117 1.454s.164-.227.366-.6a79.055 79.055 0 0 0-1.155 4.246c-.256 1.11-.49 2.226-.71 3.342c-.141.121-.295.229-.432.355m3.041-10.289c.064-.736-.037-1.537-.471-2.313c-.931-1.664-3.22-2.927-4.648-3.587c1.183-1.13 1.929-2.82 1.929-2.82s-3.07-.787-4.861.041c-.768.353-1.207.961-1.472 1.544c.044-.148.075-.299.12-.445a31.445 31.445 0 0 1 1.315-3.453c-.136.388-.177.673-.177.673s1.696 1.421 3.485.795c.875-.305 1.662-1.06 2.24-1.754c-.159 1.108-.174 2.321.222 3.306c.924 2.302 3.846 2.811 4.293 2.876a68.06 68.06 0 0 0-1.763 4.466c-.076.22-.138.448-.212.671" fill="#fff"></path>
                            <path d="M42.649 10.704s2.659-1.2 2.744-3.523C45.479 4.856 42.972 2 42.972 2s-2.713 2.686-2.798 5.011c-.087 2.323 2.475 3.693 2.475 3.693" fill="#fff"></path>
                            <path d="M43.504 11.563s1.282 2.492 3.761 2.573c2.477.081 5.524-2.271 5.524-2.271s-2.866-2.544-5.344-2.623c-2.478-.081-3.941 2.321-3.941 2.321" fill="#fff"></path>
                        </svg>
                        <div class="d-flex gap-2 text-white" style="height: fit-content;">
                            <span>Available Stocks</span>
                            <h4 class="mb-0">${available}</h4>
                        </div>
                    </div>
                    <div class="bottom-stock-card d-flex mt-5 text-white justify-content-between align-items-center">
                        <h4 class="mb-0 me-3">${category}</h4>
                        <span>${dayOfTheWeek}, ${monthName} ${day}, ${year}</span>
                    </div>
                </div>`
            } else if (category.toLowerCase() === "seeds") {
                template = `<div class="stock-card-container p-4 rounded-4" style="max-width: 30rem; min-width: 22rem;background:#8B6C5C">
                    <div class="top-stock-card d-flex justify-content-between">
                        <svg width="64px" height="64px" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M43.4307 0.815659C42.8595 0.162845 41.9619 -0.163514 41.0643 0.081279H40.9827L36.7397 1.71327C34.9445 2.20285 33.0678 2.44765 31.191 2.44765H17.8089C15.9321 2.44765 14.0554 2.20285 12.2602 1.71327L8.01717 0.081279H7.9356C7.11966 -0.163514 6.14048 0.162845 5.56924 0.815659C4.91642 1.55004 4.75329 2.44765 5.16122 3.26359L7.36436 8.97541C5.24278 18.6856 5.24278 29.0485 7.36436 39.9009L5.40601 45.5312C5.07965 46.3471 5.24278 47.3263 5.81403 47.9791C6.30362 48.5503 6.95643 48.8767 7.69081 48.8767C7.85404 48.8767 8.01717 48.8767 8.1804 48.8767L12.9947 48.0608C13.3211 47.9792 13.6475 47.9792 13.9739 47.8976C14.3819 47.8976 14.7083 47.816 15.1163 47.7343C16.5035 47.4895 17.9722 47.3263 19.2778 47.3263H29.7223C31.0279 47.3263 32.4966 47.4895 33.8838 47.8159C34.2102 47.8975 34.6182 47.8975 35.0262 47.9791C35.3526 48.0607 35.679 48.0607 36.0054 48.1424L40.8197 48.9583C41.7173 49.1215 42.5332 48.7951 43.1044 48.1424C43.6755 47.408 43.8388 46.5104 43.5124 45.6944L41.6356 39.9826C43.7572 28.7221 43.7572 18.3592 41.6356 9.05707L43.8388 3.34526C44.2466 2.44765 44.0835 1.55004 43.4307 0.815659ZM42.3699 2.69244L40.0035 8.64905C40.0035 8.81228 40.0035 8.97541 40.0035 9.13864C42.1251 18.3592 42.1251 28.6405 40.0035 39.8194C40.0035 39.9826 40.0035 40.1457 40.0035 40.2274L42.0435 46.184C42.125 46.4288 42.0435 46.7552 41.8802 47C41.7987 47.0815 41.5539 47.3263 41.1459 47.2447L36.3316 46.4288C36.0052 46.3472 35.6787 46.3472 35.3524 46.2656C34.9444 46.184 34.5364 46.184 34.21 46.1023C32.6596 45.8576 31.1092 45.6943 29.7221 45.6943H19.2777C17.8089 45.6943 16.3401 45.8576 14.7898 46.1023C14.3818 46.1839 14.0554 46.1839 13.6474 46.2656C13.3211 46.3471 12.9946 46.3471 12.6682 46.4288L7.85394 47.2447C7.44592 47.3263 7.20113 47.0815 7.11956 47C6.95634 46.7552 6.87477 46.4288 7.038 46.1023L8.99634 40.2273C8.99634 40.0641 8.99634 39.9825 8.99634 39.8193C6.87477 29.0484 6.87477 18.6855 8.99634 9.13854C8.99634 8.97531 8.99634 8.81218 8.99634 8.73052L6.63007 2.77401C6.46684 2.44765 6.54851 2.12119 6.7933 1.8764C6.87486 1.79483 7.03809 1.63161 7.28289 1.63161C7.36445 1.63161 7.44611 1.63161 7.44611 1.63161L11.6892 3.34516H11.7707C13.7291 3.83475 15.769 4.07954 17.809 4.07954H31.1911C33.231 4.07954 35.271 3.83475 37.1477 3.26359H37.2293L41.4723 1.63161C41.8803 1.55004 42.1251 1.79483 42.2067 1.8764C42.4515 2.12119 42.533 2.44765 42.3699 2.69244Z" fill="white" />
                            <path d="M33.4757 7.34352H15.5242C15.0346 7.34352 14.7083 7.66988 14.7083 8.15946V21.2151C14.7083 21.7047 15.0346 22.031 15.5242 22.031H33.4757C33.9653 22.031 34.2916 21.7047 34.2916 21.2151V8.15946C34.2917 7.66988 33.9653 7.34352 33.4757 7.34352ZM32.6597 20.3991H16.3401V8.97541H32.6597V20.3991Z" fill="white" />
                            <path d="M22.0521 13.0553H26.9479C27.4375 13.0553 27.7639 12.729 27.7639 12.2394C27.7639 11.7498 27.4375 11.4234 26.9479 11.4234H22.0521C21.5625 11.4234 21.2361 11.7498 21.2361 12.2394C21.2361 12.729 21.5625 13.0553 22.0521 13.0553Z" fill="white" />
                            <path d="M19.6041 17.1353H29.3959C29.8854 17.1353 30.2118 16.8089 30.2118 16.3193C30.2118 15.8297 29.8854 15.5034 29.3959 15.5034H19.6041C19.1145 15.5034 18.7882 15.8297 18.7882 16.3193C18.7882 16.8089 19.1145 17.1353 19.6041 17.1353Z" fill="white" />
                            <path d="M25.3461 32.2303C24.8964 32.5421 24.5395 32.8733 24.2499 33.2096C23.9962 31.5525 23.5374 29.8482 22.7864 28.2325C22.6232 27.8245 22.1336 27.6614 21.7257 27.8245C21.3177 27.9877 21.1546 28.4773 21.3177 28.8852C22.229 30.8596 22.6651 33.0034 22.8201 34.9886C22.4692 34.6663 22.0958 34.3649 21.7266 34.0735C21.6174 30.2282 18.6121 27.083 14.7083 26.9269H13.8923V27.7428C13.8107 29.7012 14.5451 31.578 15.8507 33.0467C17.1281 34.4837 18.8745 35.2941 20.7836 35.4048C21.6947 36.1144 22.5164 36.8279 22.8744 37.5989C22.7973 39.7677 22.4316 41.4712 22.1337 42.1041C21.9705 42.5121 22.1337 43.0017 22.5417 43.1648C22.6233 43.2464 22.7865 43.2464 22.8681 43.2464C23.1945 43.2464 23.4393 43.0832 23.6025 42.7568C24.047 41.7789 24.564 39.2751 24.5075 36.2617C24.5285 36.1729 24.5955 36.0381 24.6633 35.9026C25.057 35.0365 25.3771 34.171 26.4984 33.4515C29.7892 33.385 32.4986 30.6346 32.6598 26.9268V26.1109H31.8439C28.5422 26.0323 25.6962 28.6803 25.3461 32.2303ZM16.993 31.8229C16.177 30.9253 15.6874 29.8645 15.5242 28.6405C17.9721 29.1301 19.8489 31.17 20.0937 33.5364C18.8698 33.2916 17.8089 32.7204 16.993 31.8229ZM27.1111 31.8229C27.5191 29.7013 28.9878 28.151 30.9462 27.8246C30.5382 29.8645 28.9878 31.4964 27.1111 31.8229Z" fill="white" />
                        </svg>
                        <div class="d-flex gap-2 text-white" style="height: fit-content;">
                            <span>Available Stocks</span>
                            <h4 class="mb-0">${available}</h4>
                        </div>
                    </div>
                    <div class="bottom-stock-card d-flex mt-5 text-white justify-content-between align-items-center">
                        <h4 class="mb-0 me-3">${category}</h4>
                        <span>${dayOfTheWeek}, ${monthName} ${day}, ${year}</span>
                    </div>
                </div>`
            } else if (category.toLowerCase() === "vouchers") {
                template = `<div class="stock-card-container p-4 rounded-4" style="max-width: 30rem; min-width: 22rem;background:#78AED3">
                    <div class="top-stock-card d-flex justify-content-between">
                        <svg width="64px" height="64px" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M49.6829 22.0275H47.8349V23.9034H49.6829V22.0275Z" fill="white" />
                            <path d="M49.6829 24.8414H47.8349V26.7173H49.6829V24.8414Z" fill="white" />
                            <path d="M49.6829 27.6554H47.8349V29.5314H49.6829V27.6554Z" fill="white" />
                            <path d="M49.6829 30.4693H47.8349V32.3453H49.6829V30.4693Z" fill="white" />
                            <path d="M49.6829 33.2821H47.8349V35.158H49.6829V33.2821Z" fill="white" />
                            <path d="M49.6829 36.0961H47.8349V37.972H49.6829V36.0961Z" fill="white" />
                            <path d="M0 18.2897V41.7103H60V18.2897H0ZM58.152 39.8621H49.6827V38.9102H47.8346V39.8621H1.84805V20.1377H47.8346V21.0896H49.6827V20.1377H58.152V39.8621V39.8621Z" fill="white" />
                            <path d="M25.3098 22.041H4.67567V23.889H25.3098V22.041Z" fill="white" />
                            <path d="M25.3098 25.7925H4.67567V27.6405H25.3098V25.7925Z" fill="white" />
                            <path d="M14.0551 29.5453H4.67567V31.3934H14.0551V29.5453Z" fill="white" />
                            <path d="M6.55172 35.1721H4.67567V37.0201H6.55172V35.1721Z" fill="white" />
                            <path d="M10.303 35.1721H8.42707V37.0201H10.303V35.1721Z" fill="white" />
                            <path d="M14.0546 35.1721H12.1786V37.0201H14.0546V35.1721Z" fill="white" />
                            <path d="M17.8073 35.1721H15.9314V37.0201H17.8073V35.1721Z" fill="white" />
                            <path d="M21.559 35.1721H19.6829V37.0201H21.559V35.1721Z" fill="white" />
                            <path d="M25.3104 35.1721H23.4344V37.0201H25.3104V35.1721Z" fill="white" />
                            <path d="M56.2621 22.041H51.5729V23.889H56.2621V22.041Z" fill="white" />
                            <path d="M56.2621 25.7925H51.5729V27.6405H56.2621V25.7925Z" fill="white" />
                            <path d="M54.3867 29.5453H51.5729V31.3934H54.3867V29.5453Z" fill="white" />
                            <path d="M19.6831 29.5453H15.9314V31.3934H19.6831V29.5453Z" fill="white" />
                            <path d="M36.5658 35.1721H29.0624V37.0201H36.5658V35.1721Z" fill="white" />
                            <path d="M45.9452 35.1721H38.4418V37.0201H45.9452V35.1721Z" fill="white" />
                        </svg>
                        <div class="d-flex gap-2 text-white" style="height: fit-content;">
                            <span>Available Stocks</span>
                            <h4 class="mb-0">${available}</h4>
                        </div>
                    </div>
                    <div class="bottom-stock-card d-flex mt-5 text-white justify-content-between align-items-center">
                        <h4 class="mb-0 me-3">${category}</h4>
                        <span>${dayOfTheWeek}, ${monthName} ${day}, ${year}</span>
                    </div>
                </div>`
            } else if (category.toLowerCase() === "fertilizers") {
                template = `<div class="stock-card-container p-4 rounded-4" style="max-width: 30rem; min-width: 22rem;background:#785CA1">
                    <div class="top-stock-card d-flex justify-content-between">
                        <svg width="64px" height="64px" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_3_264)">
                                <path d="M15.3125 42.875H3.0625V45.9375H15.3125V42.875Z" fill="white" />
                                <path d="M26.0312 44.4062C25.8016 44.4063 25.575 44.3546 25.368 44.2552C25.1611 44.1557 24.9791 44.011 24.8357 43.8317L19.1713 36.75H3.0625V33.6875H19.9062C20.1359 33.6875 20.3625 33.7391 20.5695 33.8386C20.7764 33.938 20.9584 34.0827 21.1018 34.262L25.9192 40.2832L33.9447 28.2444C34.0806 28.0406 34.2633 27.8724 34.4776 27.7539C34.6919 27.6353 34.9315 27.5699 35.1763 27.5631C35.4211 27.5564 35.664 27.6084 35.8845 27.7148C36.105 27.8213 36.2968 27.9791 36.4437 28.175L40.5781 33.6875H45.9375V36.75H39.8125C39.5748 36.7501 39.3403 36.6948 39.1276 36.5885C38.915 36.4822 38.7301 36.3278 38.5875 36.1375L35.2918 31.7437L27.3049 43.7242C27.1715 43.9247 26.9926 44.0908 26.7827 44.209C26.5729 44.3273 26.3382 44.3943 26.0976 44.4046L26.0312 44.4062Z" fill="white" />
                                <path d="M16.8438 24.5V16.8438H18.375C19.9989 16.8419 21.5557 16.196 22.704 15.0478C23.8523 13.8995 24.4982 12.3426 24.5 10.7188V6.125H19.9062C18.3384 6.12751 16.8319 6.73449 15.7002 7.81963C14.9071 6.37999 13.7426 5.1793 12.3278 4.34263C10.9131 3.50596 9.29989 3.0639 7.65625 3.0625H3.0625V7.65625C3.06518 10.0921 4.034 12.4274 5.75641 14.1498C7.47882 15.8722 9.81414 16.8411 12.25 16.8438H13.7812V24.5H3.0625V27.5625H24.5V24.5H16.8438ZM19.9062 9.1875H21.4375V10.7188C21.4367 11.5307 21.1138 12.3092 20.5396 12.8834C19.9655 13.4575 19.187 13.7804 18.375 13.7812H16.8438V12.25C16.8446 11.438 17.1675 10.6595 17.7416 10.0854C18.3158 9.51123 19.0943 9.18831 19.9062 9.1875V9.1875ZM12.25 13.7812C10.6261 13.7794 9.06925 13.1335 7.92099 11.9853C6.77272 10.837 6.12682 9.28014 6.125 7.65625V6.125H7.65625C9.28014 6.12682 10.837 6.77272 11.9853 7.92099C13.1335 9.06925 13.7794 10.6261 13.7812 12.25V13.7812H12.25Z" fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_3_264">
                                    <rect width="49" height="49" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <div class="d-flex gap-2 text-white" style="height: fit-content;">
                            <span>Available Stocks</span>
                            <h4 class="mb-0">${available}</h4>
                        </div>
                    </div>
                    <div class="bottom-stock-card d-flex mt-5 text-white justify-content-between align-items-center">
                        <h4 class="mb-0 me-3">${category}</h4>
                        <span>${dayOfTheWeek}, ${monthName} ${day}, ${year}</span>
                    </div>
                </div>`
            } else if (category.toLowerCase() === "pesticides") {
                template = `<div class="stock-card-container p-4 rounded-4" style="max-width: 30rem; min-width: 22rem;background:#E1AD5D">
                    <div class="top-stock-card d-flex justify-content-between">
                        <svg width="49" height="49" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_3_264)">
                                <path d="M15.3125 42.875H3.0625V45.9375H15.3125V42.875Z" fill="white" />
                                <path d="M26.0312 44.4062C25.8016 44.4063 25.575 44.3546 25.368 44.2552C25.1611 44.1557 24.9791 44.011 24.8357 43.8317L19.1713 36.75H3.0625V33.6875H19.9062C20.1359 33.6875 20.3625 33.7391 20.5695 33.8386C20.7764 33.938 20.9584 34.0827 21.1018 34.262L25.9192 40.2832L33.9447 28.2444C34.0806 28.0406 34.2633 27.8724 34.4776 27.7539C34.6919 27.6353 34.9315 27.5699 35.1763 27.5631C35.4211 27.5564 35.664 27.6084 35.8845 27.7148C36.105 27.8213 36.2968 27.9791 36.4437 28.175L40.5781 33.6875H45.9375V36.75H39.8125C39.5748 36.7501 39.3403 36.6948 39.1276 36.5885C38.915 36.4822 38.7301 36.3278 38.5875 36.1375L35.2918 31.7437L27.3049 43.7242C27.1715 43.9247 26.9926 44.0908 26.7827 44.209C26.5729 44.3273 26.3382 44.3943 26.0976 44.4046L26.0312 44.4062Z" fill="white" />
                                <path d="M16.8438 24.5V16.8438H18.375C19.9989 16.8419 21.5557 16.196 22.704 15.0478C23.8523 13.8995 24.4982 12.3426 24.5 10.7188V6.125H19.9062C18.3384 6.12751 16.8319 6.73449 15.7002 7.81963C14.9071 6.37999 13.7426 5.1793 12.3278 4.34263C10.9131 3.50596 9.29989 3.0639 7.65625 3.0625H3.0625V7.65625C3.06518 10.0921 4.034 12.4274 5.75641 14.1498C7.47882 15.8722 9.81414 16.8411 12.25 16.8438H13.7812V24.5H3.0625V27.5625H24.5V24.5H16.8438ZM19.9062 9.1875H21.4375V10.7188C21.4367 11.5307 21.1138 12.3092 20.5396 12.8834C19.9655 13.4575 19.187 13.7804 18.375 13.7812H16.8438V12.25C16.8446 11.438 17.1675 10.6595 17.7416 10.0854C18.3158 9.51123 19.0943 9.18831 19.9062 9.1875V9.1875ZM12.25 13.7812C10.6261 13.7794 9.06925 13.1335 7.92099 11.9853C6.77272 10.837 6.12682 9.28014 6.125 7.65625V6.125H7.65625C9.28014 6.12682 10.837 6.77272 11.9853 7.92099C13.1335 9.06925 13.7794 10.6261 13.7812 12.25V13.7812H12.25Z" fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_3_264">
                                    <rect width="49" height="49" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <div class="d-flex gap-2 text-white" style="height: fit-content;">
                            <span>Available Stocks</span>
                            <h4 class="mb-0">${available}</h4>
                        </div>
                    </div>
                    <div class="bottom-stock-card d-flex mt-5 text-white justify-content-between align-items-center">
                        <h4 class="mb-0 me-3">${category}</h4>
                        <span>${dayOfTheWeek}, ${monthName} ${day}, ${year}</span>
                    </div>
                </div>`
            }


            return template;
        }

        function getCurrentDayOfTheWeek(month, day, year) {
            let dayOfTheWeek = new Date(year, month, day);

            return dayOfTheWeek.getDay() + 1;
        }

        function convertDayToName(dayNumber) {
            let week = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            for (let index = 0; index < week.length; index++) {
                if (index === dayNumber - 1) return week[index];
            }

            return false;
        }

        function convertMonthToName(monthNumber) {
            let months = [
                "January",
                "February",
                "March",
                "April",
                "May",
                "June",
                "July",
                "August",
                "September",
                "October",
                "November",
                "December",
            ];
            for (let index = 0; index < months.length; index++) {
                if (index === monthNumber) return months[index];
            }

            return false;
        }
    })
</script>
<?= $this->endSection() ?>